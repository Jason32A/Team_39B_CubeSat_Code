#pragma config(Motor,  port2,           RightBack, tmotorVex393_MC29, openLoop, reversed)
#pragma config(Motor,  port3,           RightFront, tmotorVex393_MC29, openLoop, reversed)
#pragma config(Motor,  port7,           LeftBack,  tmotorVex393_MC29, openLoop)
#pragma config(Motor,  port8,           LeftFront, tmotorVex393_MC29, openLoop)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

int JoyThresh = 10; // This variable controls the size of the deadzone for the joysticks

#pragma competitionControl(Competition)
#pragma autonomousDuration(15)
#pragma userControlDuration(115)

#include "Vex_Competition_Includes.c"

/**
*
* mapJoyDrive maps the joysticks to the motor output and keeps them constrained to the threshold for the joysticks
* @param TVexJoysticks takes a joystick channel as input
* @param tMotor output takes a motor number as input
* Commented out in favor of more modular version down below
*
*/
/*
void mapJoyDrive(TVexJoysticks input, tMotor output){
		if (abs(vexRT[input]) > JoyThresh)
	 	{
	 		motor[output] = vexRT[input];
		}
		else
		{
			motor[output] = 0;
		}
}

/**
*
* DriveControl moves the drive based upon the inputs from the parameters
* @param LeftDrivePower int -128 to 127
* @param RightDrivePower int -128 to 127
*
*/

void DriveControl (int LeftDrivePower = 0, int RightDrivePower = 0)
{
	motor[LeftBack] = LeftDrivePower;
	motor[LeftFront] = LeftDrivePower;
	motor[RightBack] = RightDrivePower;
	motor[RightFront] = RightDrivePower;
}

/**
*
* mapJoyInt takes the TVexJoysticks input value and a threshold value and returns an integer
* @param TVexJoysticks is a created variable that accepts joystick channels
* @param threshold is an int -128 to 127
*
*/

int mapJoyInt (TVexJoysticks input, int threshold = 10)
{
	if (abs(input) > threshold)
	{
		return input;
	}
	else
	{
		return 0;
	}
}

void pre_auton()
{

}

task autonomous()
{

}


task usercontrol()
{
	while (true)
	{
/*
		mapJoyDrive(Ch2,RightBack);
		mapJoyDrive(Ch2,RightFront);

		mapJoyDrive(Ch3,LeftBack);
		mapJoyDrive(Ch3,LeftFront);
		*/
		DriveControl(mapJoyInt(Ch3),mapJoyInt(Ch2));
	}
}
